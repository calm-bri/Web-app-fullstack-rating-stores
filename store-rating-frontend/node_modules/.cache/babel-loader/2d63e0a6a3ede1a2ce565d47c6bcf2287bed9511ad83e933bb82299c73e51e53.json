{"ast":null,"code":"var _jsxFileName = \"C:\\\\Assignment_Project_App\\\\Assignment_Roxiler\\\\store-rating-frontend\\\\src\\\\pages\\\\Dashboard\\\\OwnerDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport api from \"../../api/api\";\nimport { normalizeResponse } from \"../../utils/normalizeResponse\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OwnerDashboard = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [stores, setStores] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchStores = async () => {\n      try {\n        const response = await api.get(\"/stores/owner/my-stores\"); // ✅ correct route\n        setStores(normalizeResponse(response));\n      } catch (error) {\n        console.error(\"Error fetching stores:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStores();\n  }, [user === null || user === void 0 ? void 0 : user.id]);\n  const createStore = async storeData => {\n    try {\n      await api.post(\"/stores/owner/create\", storeData); // ✅ correct route\n    } catch (error) {\n      console.error(\"Error creating store:\", error);\n    }\n  };\n  const updateStore = async (id, updatedData) => {\n    try {\n      await api.put(`/stores/owner/${id}`, updatedData); // ✅ correct route\n    } catch (error) {\n      console.error(\"Error updating store:\", error);\n    }\n  };\n  const deleteStore = async id => {\n    try {\n      await api.delete(`/stores/owner/${id}`); // ✅ correct route\n    } catch (error) {\n      console.error(\"Error deleting store:\", error);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Owner Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stores-grid\",\n      children: stores.length > 0 ? stores.map(store => {\n        var _store$averageRating, _store$totalRatings;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"store-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: store.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: store.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Average Rating: \", (_store$averageRating = store.averageRating) !== null && _store$averageRating !== void 0 ? _store$averageRating : 0, \" \\u2B50 (\", (_store$totalRatings = store.totalRatings) !== null && _store$totalRatings !== void 0 ? _store$totalRatings : 0, \" ratings)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updateStore(store.id, {\n              name: \"Updated Name\"\n            }),\n            className: \"btn btn-primary\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteStore(store.id),\n            className: \"btn btn-danger\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, store.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No stores found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => createStore({\n        name: \"New Store\",\n        email: \"test@mail.com\",\n        address: \"Somewhere\"\n      }),\n      className: \"btn btn-success\",\n      children: \"+ Add Store\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(OwnerDashboard, \"qNKqDYX48wgcWH0z783F/EbVHwY=\");\n_c = OwnerDashboard;\nexport default OwnerDashboard;\nvar _c;\n$RefreshReg$(_c, \"OwnerDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","api","normalizeResponse","AuthContext","jsxDEV","_jsxDEV","OwnerDashboard","_s","user","stores","setStores","loading","setLoading","fetchStores","response","get","error","console","id","createStore","storeData","post","updateStore","updatedData","put","deleteStore","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","store","_store$averageRating","_store$totalRatings","name","address","averageRating","totalRatings","onClick","email","_c","$RefreshReg$"],"sources":["C:/Assignment_Project_App/Assignment_Roxiler/store-rating-frontend/src/pages/Dashboard/OwnerDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport api from \"../../api/api\";\r\nimport { normalizeResponse } from \"../../utils/normalizeResponse\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst OwnerDashboard = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [stores, setStores] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchStores = async () => {\r\n      try {\r\n        const response = await api.get(\"/stores/owner/my-stores\"); // ✅ correct route\r\n        setStores(normalizeResponse(response));\r\n      } catch (error) {\r\n        console.error(\"Error fetching stores:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchStores();\r\n  }, [user?.id]);\r\n\r\n  const createStore = async (storeData) => {\r\n    try {\r\n      await api.post(\"/stores/owner/create\", storeData); // ✅ correct route\r\n    } catch (error) {\r\n      console.error(\"Error creating store:\", error);\r\n    }\r\n  };\r\n\r\n  const updateStore = async (id, updatedData) => {\r\n    try {\r\n      await api.put(`/stores/owner/${id}`, updatedData); // ✅ correct route\r\n    } catch (error) {\r\n      console.error(\"Error updating store:\", error);\r\n    }\r\n  };\r\n\r\n  const deleteStore = async (id) => {\r\n    try {\r\n      await api.delete(`/stores/owner/${id}`); // ✅ correct route\r\n    } catch (error) {\r\n      console.error(\"Error deleting store:\", error);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <h2>Owner Dashboard</h2>\r\n      <div className=\"stores-grid\">\r\n        {stores.length > 0 ? (\r\n          stores.map((store) => (\r\n            <div key={store.id} className=\"store-card\">\r\n              <h4>{store.name}</h4>\r\n              <p>{store.address}</p>\r\n              <p>\r\n                Average Rating: {store.averageRating ?? 0} ⭐ (\r\n                {store.totalRatings ?? 0} ratings)\r\n              </p>\r\n              <button\r\n                onClick={() => updateStore(store.id, { name: \"Updated Name\" })}\r\n                className=\"btn btn-primary\"\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                onClick={() => deleteStore(store.id)}\r\n                className=\"btn btn-danger\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No stores found.</p>\r\n        )}\r\n      </div>\r\n      <button\r\n        onClick={() =>\r\n          createStore({ name: \"New Store\", email: \"test@mail.com\", address: \"Somewhere\" })\r\n        }\r\n        className=\"btn btn-success\"\r\n      >\r\n        + Add Store\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}