{"ast":null,"code":"// Handle errors globally\napi.interceptors.response.use(response => response, error => {\n  if (error.response && error.response.status === 401) {\n    // Token expired or invalid → auto logout\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    localStorage.removeItem(\"id\");\n    localStorage.removeItem(\"email\");\n    window.location.href = \"/login\"; // redirect\n  }\n  return Promise.reject(error);\n});","map":{"version":3,"names":["api","interceptors","response","use","error","status","localStorage","removeItem","window","location","href","Promise","reject"],"sources":["C:/Assignment_Project_App/Assignment_Roxiler/store-rating-frontend/src/api/api.js"],"sourcesContent":["// Handle errors globally\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      // Token expired or invalid → auto logout\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"role\");\r\n      localStorage.removeItem(\"id\");\r\n      localStorage.removeItem(\"email\");\r\n\r\n      window.location.href = \"/login\"; // redirect\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n"],"mappings":"AAAA;AACAA,GAAG,CAACC,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC1BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;EACT,IAAIA,KAAK,CAACF,QAAQ,IAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IACnD;IACAC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BD,YAAY,CAACC,UAAU,CAAC,IAAI,CAAC;IAC7BD,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAEhCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ,CAAC,CAAC;EACnC;EACA,OAAOC,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC;AAC9B,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}