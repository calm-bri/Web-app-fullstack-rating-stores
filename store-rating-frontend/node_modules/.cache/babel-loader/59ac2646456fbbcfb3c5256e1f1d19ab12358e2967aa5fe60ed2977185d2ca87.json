{"ast":null,"code":"var _jsxFileName = \"C:\\\\Assignment_Project_App\\\\Assignment_Roxiler\\\\store-rating-frontend\\\\src\\\\pages\\\\Dashboard\\\\OwnerDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport api from \"../../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OwnerDashboard = () => {\n  _s();\n  const [analytics, setAnalytics] = useState({});\n  const [stores, setStores] = useState([]);\n  const [allStores, setAllStores] = useState([]);\n  const [ratings, setRatings] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // New state for edit modal\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [editStoreData, setEditStoreData] = useState({\n    id: null,\n    name: \"\",\n    email: \"\",\n    address: \"\"\n  });\n  const fetchMyStores = async () => {\n    try {\n      const response = await api.get(\"/stores/owner/my-stores\");\n      setStores(response.data.data || []);\n    } catch (error) {\n      console.error(\"Error fetching my stores:\", error);\n      setStores([]);\n    }\n  };\n  const fetchAllStores = async () => {\n    try {\n      const response = await api.get(\"/stores\");\n      setAllStores(response.data.data || []);\n    } catch (error) {\n      console.error(\"Error fetching all stores:\", error);\n      setAllStores([]);\n    }\n  };\n  const fetchAllRatings = useCallback(async () => {\n    try {\n      // Get ratings for all stores (public endpoint)\n      const ratingPromises = allStores.map(store => api.get(`/ratings/store/${store.id}`));\n      const ratingResponses = await Promise.all(ratingPromises);\n      const allRatings = ratingResponses.flatMap(response => response.data.data);\n      setRatings(allRatings);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error fetching ratings:\", error);\n      setLoading(false);\n    }\n  }, [allStores]);\n  const calculateAnalytics = useCallback(() => {\n    const myStoreIds = stores.map(store => store.id);\n    const myRatings = ratings.filter(rating => myStoreIds.includes(rating.storeId));\n    setAnalytics({\n      myStores: stores.length,\n      totalRatings: myRatings.length,\n      averageRating: myRatings.length > 0 ? (myRatings.reduce((sum, r) => sum + r.rating, 0) / myRatings.length).toFixed(1) : 0\n    });\n  }, [stores, ratings]);\n  useEffect(() => {\n    fetchMyStores();\n    fetchAllStores();\n  }, []);\n  useEffect(() => {\n    if (allStores.length > 0) {\n      fetchAllRatings();\n    }\n  }, [allStores, fetchAllRatings]);\n  useEffect(() => {\n    if (stores.length >= 0 && ratings.length >= 0) {\n      calculateAnalytics();\n    }\n  }, [stores, ratings, calculateAnalytics]);\n  const deleteStore = async id => {\n    if (window.confirm(\"Are you sure you want to delete this store?\")) {\n      try {\n        await api.delete(`/stores/owner/${id}`);\n        fetchMyStores();\n      } catch (error) {\n        console.error(\"Error deleting store:\", error);\n      }\n    }\n  };\n\n  // Open edit modal and set store data\n  const openEditModal = store => {\n    setEditStoreData({\n      id: store.id,\n      name: store.name,\n      email: store.email,\n      address: store.address\n    });\n    setIsEditModalOpen(true);\n  };\n\n  // Close edit modal\n  const closeEditModal = () => {\n    setIsEditModalOpen(false);\n    setEditStoreData({\n      id: null,\n      name: \"\",\n      email: \"\",\n      address: \"\"\n    });\n  };\n\n  // Handle form input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditStoreData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  // Submit updated store data\n  const submitEditStore = async e => {\n    e.preventDefault();\n    try {\n      await api.put(`/stores/owner/${editStoreData.id}`, {\n        name: editStoreData.name,\n        email: editStoreData.email,\n        address: editStoreData.address\n      });\n      closeEditModal();\n      fetchMyStores();\n    } catch (error) {\n      console.error(\"Error updating store:\", error);\n      alert(\"Failed to update store. Please try again.\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Owner Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: \"20px\",\n        marginBottom: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ccc\",\n          padding: \"20px\",\n          borderRadius: \"5px\",\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"My Stores\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"24px\",\n            fontWeight: \"bold\"\n          },\n          children: analytics.myStores\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ccc\",\n          padding: \"20px\",\n          borderRadius: \"5px\",\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Total Ratings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"24px\",\n            fontWeight: \"bold\"\n          },\n          children: analytics.totalRatings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ccc\",\n          padding: \"20px\",\n          borderRadius: \"5px\",\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Average Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"24px\",\n            fontWeight: \"bold\"\n          },\n          children: [analytics.averageRating, \" \\u2B50\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Stores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\n          gap: \"20px\"\n        },\n        children: stores.map(store => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid #ccc\",\n            padding: \"15px\",\n            borderRadius: \"5px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: store.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: store.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: store.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Average Rating: \", store.averageRating || 0, \" \\u2B50\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total Ratings: \", store.totalRatings || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openEditModal(store),\n              style: {\n                marginRight: \"10px\",\n                padding: \"5px 10px\",\n                backgroundColor: \"#007bff\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"3px\"\n              },\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteStore(store.id),\n              style: {\n                padding: \"5px 10px\",\n                backgroundColor: \"#dc3545\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"3px\"\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, store.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), isEditModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: \"rgba(0,0,0,0.5)\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: \"white\",\n          padding: \"20px\",\n          borderRadius: \"5px\",\n          width: \"400px\",\n          boxShadow: \"0 2px 10px rgba(0,0,0,0.3)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Edit Store\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitEditStore,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 52\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              name: \"name\",\n              value: editStoreData.name,\n              onChange: handleInputChange,\n              required: true,\n              style: {\n                width: \"100%\",\n                padding: \"8px\",\n                boxSizing: \"border-box\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 54\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              id: \"email\",\n              name: \"email\",\n              value: editStoreData.email,\n              onChange: handleInputChange,\n              required: true,\n              style: {\n                width: \"100%\",\n                padding: \"8px\",\n                boxSizing: \"border-box\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"address\",\n              children: \"Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 58\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"address\",\n              name: \"address\",\n              value: editStoreData.address,\n              onChange: handleInputChange,\n              required: true,\n              style: {\n                width: \"100%\",\n                padding: \"8px\",\n                boxSizing: \"border-box\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              justifyContent: \"flex-end\",\n              gap: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: closeEditModal,\n              style: {\n                padding: \"5px 10px\"\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              style: {\n                padding: \"5px 10px\",\n                backgroundColor: \"#007bff\",\n                color: \"white\",\n                border: \"none\",\n                borderRadius: \"3px\"\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"All Stores and Ratings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(400px, 1fr))\",\n          gap: \"20px\"\n        },\n        children: allStores.map(store => {\n          var _store$owner;\n          const storeRatings = ratings.filter(r => r.storeId === store.id);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid #ccc\",\n              padding: \"15px\",\n              borderRadius: \"5px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: store.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: store.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Owner: \", (_store$owner = store.owner) === null || _store$owner === void 0 ? void 0 : _store$owner.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Average Rating: \", store.averageRating || 0, \" \\u2B50\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Total Ratings: \", store.totalRatings || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"10px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Ratings:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), storeRatings.length > 0 ? storeRatings.slice(0, 3).map(rating => {\n                var _rating$user;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    borderTop: \"1px solid #eee\",\n                    paddingTop: \"5px\",\n                    marginTop: \"5px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [(_rating$user = rating.user) === null || _rating$user === void 0 ? void 0 : _rating$user.name, \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 28\n                    }, this), \" \", \"⭐\".repeat(rating.rating), \" - \", rating.comment || \"No comment\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this)\n                }, rating.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 23\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No ratings yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this), storeRatings.length > 3 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"... and \", storeRatings.length - 3, \" more\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 47\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this)]\n          }, store.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(OwnerDashboard, \"Z7lU7emX0OW4mdKu9kTv4UghN7M=\");\n_c = OwnerDashboard;\nexport default OwnerDashboard;\nvar _c;\n$RefreshReg$(_c, \"OwnerDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","api","jsxDEV","_jsxDEV","OwnerDashboard","_s","analytics","setAnalytics","stores","setStores","allStores","setAllStores","ratings","setRatings","loading","setLoading","isEditModalOpen","setIsEditModalOpen","editStoreData","setEditStoreData","id","name","email","address","fetchMyStores","response","get","data","error","console","fetchAllStores","fetchAllRatings","ratingPromises","map","store","ratingResponses","Promise","all","allRatings","flatMap","calculateAnalytics","myStoreIds","myRatings","filter","rating","includes","storeId","myStores","length","totalRatings","averageRating","reduce","sum","r","toFixed","deleteStore","window","confirm","delete","openEditModal","closeEditModal","handleInputChange","e","value","target","prevData","submitEditStore","preventDefault","put","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","display","gap","marginBottom","border","borderRadius","flex","fontSize","fontWeight","gridTemplateColumns","marginTop","onClick","marginRight","backgroundColor","color","position","top","left","right","bottom","justifyContent","alignItems","zIndex","width","boxShadow","onSubmit","htmlFor","type","onChange","required","boxSizing","_store$owner","storeRatings","owner","slice","_rating$user","borderTop","paddingTop","user","repeat","comment","_c","$RefreshReg$"],"sources":["C:/Assignment_Project_App/Assignment_Roxiler/store-rating-frontend/src/pages/Dashboard/OwnerDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport api from \"../../api/api\";\r\n\r\nconst OwnerDashboard = () => {\r\n  const [analytics, setAnalytics] = useState({});\r\n  const [stores, setStores] = useState([]);\r\n  const [allStores, setAllStores] = useState([]);\r\n  const [ratings, setRatings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // New state for edit modal\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [editStoreData, setEditStoreData] = useState({\r\n    id: null,\r\n    name: \"\",\r\n    email: \"\",\r\n    address: \"\"\r\n  });\r\n\r\n  const fetchMyStores = async () => {\r\n    try {\r\n      const response = await api.get(\"/stores/owner/my-stores\");\r\n      setStores(response.data.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching my stores:\", error);\r\n      setStores([]);\r\n    }\r\n  };\r\n\r\n  const fetchAllStores = async () => {\r\n    try {\r\n      const response = await api.get(\"/stores\");\r\n      setAllStores(response.data.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching all stores:\", error);\r\n      setAllStores([]);\r\n    }\r\n  };\r\n\r\n  const fetchAllRatings = useCallback(async () => {\r\n    try {\r\n      // Get ratings for all stores (public endpoint)\r\n      const ratingPromises = allStores.map(store =>\r\n        api.get(`/ratings/store/${store.id}`)\r\n      );\r\n      const ratingResponses = await Promise.all(ratingPromises);\r\n      const allRatings = ratingResponses.flatMap(response => response.data.data);\r\n      setRatings(allRatings);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(\"Error fetching ratings:\", error);\r\n      setLoading(false);\r\n    }\r\n  }, [allStores]);\r\n\r\n  const calculateAnalytics = useCallback(() => {\r\n    const myStoreIds = stores.map(store => store.id);\r\n    const myRatings = ratings.filter(rating => myStoreIds.includes(rating.storeId));\r\n\r\n    setAnalytics({\r\n      myStores: stores.length,\r\n      totalRatings: myRatings.length,\r\n      averageRating: myRatings.length > 0 ? (myRatings.reduce((sum, r) => sum + r.rating, 0) / myRatings.length).toFixed(1) : 0\r\n    });\r\n  }, [stores, ratings]);\r\n\r\n  useEffect(() => {\r\n    fetchMyStores();\r\n    fetchAllStores();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (allStores.length > 0) {\r\n      fetchAllRatings();\r\n    }\r\n  }, [allStores, fetchAllRatings]);\r\n\r\n  useEffect(() => {\r\n    if (stores.length >= 0 && ratings.length >= 0) {\r\n      calculateAnalytics();\r\n    }\r\n  }, [stores, ratings, calculateAnalytics]);\r\n\r\n  const deleteStore = async (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this store?\")) {\r\n      try {\r\n        await api.delete(`/stores/owner/${id}`);\r\n        fetchMyStores();\r\n      } catch (error) {\r\n        console.error(\"Error deleting store:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Open edit modal and set store data\r\n  const openEditModal = (store) => {\r\n    setEditStoreData({\r\n      id: store.id,\r\n      name: store.name,\r\n      email: store.email,\r\n      address: store.address\r\n    });\r\n    setIsEditModalOpen(true);\r\n  };\r\n\r\n  // Close edit modal\r\n  const closeEditModal = () => {\r\n    setIsEditModalOpen(false);\r\n    setEditStoreData({\r\n      id: null,\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\"\r\n    });\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditStoreData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // Submit updated store data\r\n  const submitEditStore = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await api.put(`/stores/owner/${editStoreData.id}`, {\r\n        name: editStoreData.name,\r\n        email: editStoreData.email,\r\n        address: editStoreData.address\r\n      });\r\n      closeEditModal();\r\n      fetchMyStores();\r\n    } catch (error) {\r\n      console.error(\"Error updating store:\", error);\r\n      alert(\"Failed to update store. Please try again.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Owner Dashboard</h2>\r\n\r\n      {/* Analytics Section */}\r\n      <div style={{ display: \"flex\", gap: \"20px\", marginBottom: \"30px\" }}>\r\n        <div style={{ border: \"1px solid #ccc\", padding: \"20px\", borderRadius: \"5px\", flex: 1 }}>\r\n          <h3>My Stores</h3>\r\n          <p style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>{analytics.myStores}</p>\r\n        </div>\r\n        <div style={{ border: \"1px solid #ccc\", padding: \"20px\", borderRadius: \"5px\", flex: 1 }}>\r\n          <h3>Total Ratings</h3>\r\n          <p style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>{analytics.totalRatings}</p>\r\n        </div>\r\n        <div style={{ border: \"1px solid #ccc\", padding: \"20px\", borderRadius: \"5px\", flex: 1 }}>\r\n          <h3>Average Rating</h3>\r\n          <p style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>{analytics.averageRating} ⭐</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* My Stores Section */}\r\n      <div style={{ marginBottom: \"30px\" }}>\r\n        <h3>My Stores</h3>\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\", gap: \"20px\" }}>\r\n          {stores.map(store => (\r\n            <div key={store.id} style={{ border: \"1px solid #ccc\", padding: \"15px\", borderRadius: \"5px\" }}>\r\n              <h4>{store.name}</h4>\r\n              <p>{store.address}</p>\r\n              <p>{store.email}</p>\r\n              <p>Average Rating: {store.averageRating || 0} ⭐</p>\r\n              <p>Total Ratings: {store.totalRatings || 0}</p>\r\n              <div style={{ marginTop: \"10px\" }}>\r\n                <button\r\n                  onClick={() => openEditModal(store)}\r\n                  style={{ marginRight: \"10px\", padding: \"5px 10px\", backgroundColor: \"#007bff\", color: \"white\", border: \"none\", borderRadius: \"3px\" }}\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  onClick={() => deleteStore(store.id)}\r\n                  style={{ padding: \"5px 10px\", backgroundColor: \"#dc3545\", color: \"white\", border: \"none\", borderRadius: \"3px\" }}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Store Modal */}\r\n      {isEditModalOpen && (\r\n        <div style={{\r\n          position: \"fixed\",\r\n          top: 0, left: 0, right: 0, bottom: 0,\r\n          backgroundColor: \"rgba(0,0,0,0.5)\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          zIndex: 1000\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            borderRadius: \"5px\",\r\n            width: \"400px\",\r\n            boxShadow: \"0 2px 10px rgba(0,0,0,0.3)\"\r\n          }}>\r\n            <h3>Edit Store</h3>\r\n            <form onSubmit={submitEditStore}>\r\n              <div style={{ marginBottom: \"10px\" }}>\r\n                <label htmlFor=\"name\">Name:</label><br />\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                  value={editStoreData.name}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  style={{ width: \"100%\", padding: \"8px\", boxSizing: \"border-box\" }}\r\n                />\r\n              </div>\r\n              <div style={{ marginBottom: \"10px\" }}>\r\n                <label htmlFor=\"email\">Email:</label><br />\r\n                <input\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  value={editStoreData.email}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  style={{ width: \"100%\", padding: \"8px\", boxSizing: \"border-box\" }}\r\n                />\r\n              </div>\r\n              <div style={{ marginBottom: \"10px\" }}>\r\n                <label htmlFor=\"address\">Address:</label><br />\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"address\"\r\n                  name=\"address\"\r\n                  value={editStoreData.address}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  style={{ width: \"100%\", padding: \"8px\", boxSizing: \"border-box\" }}\r\n                />\r\n              </div>\r\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\", gap: \"10px\" }}>\r\n                <button type=\"button\" onClick={closeEditModal} style={{ padding: \"5px 10px\" }}>\r\n                  Cancel\r\n                </button>\r\n                <button type=\"submit\" style={{ padding: \"5px 10px\", backgroundColor: \"#007bff\", color: \"white\", border: \"none\", borderRadius: \"3px\" }}>\r\n                  Save\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* All Stores and Ratings Section */}\r\n      <div>\r\n        <h3>All Stores and Ratings</h3>\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(400px, 1fr))\", gap: \"20px\" }}>\r\n          {allStores.map(store => {\r\n            const storeRatings = ratings.filter(r => r.storeId === store.id);\r\n            return (\r\n              <div key={store.id} style={{ border: \"1px solid #ccc\", padding: \"15px\", borderRadius: \"5px\" }}>\r\n                <h4>{store.name}</h4>\r\n                <p>{store.address}</p>\r\n                <p>Owner: {store.owner?.name}</p>\r\n                <p>Average Rating: {store.averageRating || 0} ⭐</p>\r\n                <p>Total Ratings: {store.totalRatings || 0}</p>\r\n\r\n                <div style={{ marginTop: \"10px\" }}>\r\n                  <h5>Ratings:</h5>\r\n                  {storeRatings.length > 0 ? (\r\n                    storeRatings.slice(0, 3).map(rating => (\r\n                      <div key={rating.id} style={{ borderTop: \"1px solid #eee\", paddingTop: \"5px\", marginTop: \"5px\" }}>\r\n                        <p><strong>{rating.user?.name}:</strong> {\"⭐\".repeat(rating.rating)} - {rating.comment || \"No comment\"}</p>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <p>No ratings yet</p>\r\n                  )}\r\n                  {storeRatings.length > 3 && <p>... and {storeRatings.length - 3} more</p>}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}